

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8.1. Maps</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="../_static/m269.css?v=4f7d186f" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f41d439"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.2. Dictionaries" href="08_2_dictionary.html" />
    <link rel="prev" title="8. Unordered collections" href="08-introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            M269
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01_Introduction/01-introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_Sequence/02-introduction.html">2. Numbers and sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_Selection/03-introduction.html">3. Booleans and selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_Iteration/04-introduction.html">4. Sequences and iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_TMA01-1/05-introduction.html">5. TMA 01 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_Implementing/06-introduction.html">6. Implementing sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_Ordered/07-introduction.html">7. Stacks and queues</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="08-introduction.html">8. Unordered collections</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.1. Maps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#The-map-ADT">8.1.1. The map ADT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Using-maps">8.1.2. Using maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.1.1">Exercise 8.1.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.1.2">Exercise 8.1.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.1.3">Exercise 8.1.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Lookup-tables">8.1.3. Lookup tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.1.4">Exercise 8.1.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="08_2_dictionary.html">8.2. Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_3_hash_table.html">8.3. Hash tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_4_set.html">8.4. Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_5_summary.html">8.5. Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../09_Practice-1/09-introduction.html">9. Practice 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_TMA01-2/10-introduction.html">10. TMA 01 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_Search/11-introduction.html">11. Exhaustive search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_Recursion/12-introduction.html">12. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_Divide/13-introduction.html">13. Divide and conquer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14_Sorting/14-introduction.html">14. Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_TMA02-1/15-introduction.html">15. TMA 02 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../16_Trees/16-introduction.html">16. Rooted trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../17_Graphs_1/17-introduction.html">17. Graphs 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18_Greed/18-introduction.html">18. Greed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../19_Practice-2/19-introduction.html">19. Practice 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../20_TMA02-2/20-introduction.html">20. TMA 02 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../21_Graphs_2/21-introduction.html">21. Graphs 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../22_Backtracking/22-introduction.html">22. Backtracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../23_Dynamic_Programming/23-introduction.html">23. Dynamic Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../24_Practice-3/24-introduction.html">24. Practice 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../25_TMA03-1/25-introduction.html">25. TMA 03 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../26_Complexity_classes/26-introduction.html">26. Complexity classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../27_Computability/27-introduction.html">27. Computability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../28_TMA03-2/28-introduction.html">28. TMA 03 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../31_Hints/31-introduction.html">29. Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../32_Answers/32-introduction.html">30. Answers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../33_Figures/33-introduction.html">31. Figures</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">M269</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="08-introduction.html"><span class="section-number">8. </span>Unordered collections</a></li>
      <li class="breadcrumb-item active"><span class="section-number">8.1. </span>Maps</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Maps">
<h1><span class="section-number">8.1. </span>Maps<a class="headerlink" href="#Maps" title="Link to this heading"></a></h1>
<p>For many applications, we wish to retrieve data when we know only part of it. For example, we may wish to get an employee’s full record by just their last name or office extension. This section introduces an ADT that allows us to handle data in such a way.</p>
<section id="The-map-ADT">
<h2><span class="section-number">8.1.1. </span>The map ADT<a class="headerlink" href="#The-map-ADT" title="Link to this heading"></a></h2>
<p>A <strong>map</strong> is an unordered collection of key–value pairs without duplicate keys. Each key–value pair is an item of the map. Different keys may be associated to the same value. The map ADT supports the following operations.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Effect</p></th>
<th class="head"><p>Algorithm in English</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>new</p></td>
<td><p>create a new empty map</p></td>
<td><p>let <em>m</em> be an empty map</p></td>
</tr>
<tr class="row-odd"><td><p>size</p></td>
<td><p>the number of items in <em>m</em></p></td>
<td><p>│<em>m</em>│</p></td>
</tr>
<tr class="row-even"><td><p>membership</p></td>
<td><p>check if <em>m</em> has a given key</p></td>
<td><p><em>key</em> in <em>m</em></p></td>
</tr>
<tr class="row-odd"><td><p>associate</p></td>
<td><p>associate a value to a key in <em>m</em></p></td>
<td><p>let <em>m</em>(<em>key</em>) be <em>value</em></p></td>
</tr>
<tr class="row-even"><td><p>lookup</p></td>
<td><p>obtain the value associated to a key</p></td>
<td><p><em>m</em>(<em>key</em>)</p></td>
</tr>
<tr class="row-odd"><td><p>delete</p></td>
<td><p>remove a key–value pair from <em>m</em></p></td>
<td><p>remove <em>m</em>(<em>key</em>)</p></td>
</tr>
<tr class="row-even"><td><p>(in)equality</p></td>
<td><p>are two maps the same or different?</p></td>
<td><p><em>m1</em> = <em>m2</em> or <em>m1</em> ≠ <em>m2</em></p></td>
</tr>
</tbody>
</table>
<p>The associate operation replaces the current value if the key is in the map, otherwise it creates a new key–value pair. The precondition of the lookup and delete operations is for the key to be in the map.</p>
<p>We assume that maps are <strong>iterable</strong>: it’s possible to go through all keys with ‘for each <em>key</em> in <em>map</em>’. This allows us to discover the keys in the map to then access the values. As maps are unordered collections, the order in which keys are traversed isn’t known in advance and may even change after adding or removing key–value pairs, depending on how the map is implemented.</p>
<div class="admonition note">
<p><strong>Info:</strong> Maps are also called associative arrays. Some texts have separate operations to insert a pair and to replace a value instead of a single associate operation. A lookup is also called a search.</p>
</div>
<p>The above table uses functional notation for some operations because a map is, mathematically, a <a class="reference internal" href="../02_Sequence/02_5_maths_functions.html#Functions-in-mathematics"><span class="std std-ref">function</span></a>: there’s a set of inputs (the keys), a set of outputs (the values) and for each input there’s a single output. Functions usually have a rule that computes the output for each input, whereas maps explicitly list all the inputs and their corresponding outputs. Most functions have infinite inputs, e.g. any positive
integer, and hence correspond to infinite maps.</p>
</section>
<section id="Using-maps">
<h2><span class="section-number">8.1.2. </span>Using maps<a class="headerlink" href="#Using-maps" title="Link to this heading"></a></h2>
<p>Maps are widely used because they allow us to access an item by a mnemonic key, instead of an arbitrary position that is meaningless for unordered collections. Returning to the employee example, we could define several maps, all with essentially the same values (the employee records) but with different keys: last names, social security numbers, office phone numbers, etc. Depending on which piece of information the user has, they would use a different map to look up the employee. If there are
several employees for the same key, then the associated value is a sequence of employees or some other type of collection.</p>
<p>Another example of a map is a bilingual dictionary: it associates each word in one language to one or more words in another language. Each key is a string and each value is a sequence of strings. Here’s a tiny Portuguese–English dictionary. Maps are best written as two-column tables.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘alface’</p></td>
<td><p>(‘lettuce’)</p></td>
</tr>
<tr class="row-odd"><td><p>‘carro’</p></td>
<td><p>(‘car’)</p></td>
</tr>
<tr class="row-even"><td><p>‘andar’</p></td>
<td><p>(‘floor’, ‘walk’)</p></td>
</tr>
</tbody>
</table>
<p>Maps and other ADTs allow us to think about data in the most appropriate way for the problem at hand. The same data can be organised in different ways. The next two exercises provide an example.</p>
<section id="Exercise-8.1.1">
<h3>Exercise 8.1.1<a class="headerlink" href="#Exercise-8.1.1" title="Link to this heading"></a></h3>
<p>A max-priority queue is an ordered collection of priority–item pairs, ordered by priority. The priorities can be any comparable values. For this and the next exercise, assume that items with the same priority must be ordered by arrival, i.e. FIFO, order.</p>
<p>A priority queue can be seen as a map. What are the keys and values of the map?</p>
<p><a class="reference internal" href="../32_Answers/Answers_08_1_01.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-8.1.2">
<h3>Exercise 8.1.2<a class="headerlink" href="#Exercise-8.1.2" title="Link to this heading"></a></h3>
<p>Using map operations, <a class="reference internal" href="../06_Implementing/06_4_bounded.html#Outlining-algorithms"><span class="std std-ref">outline</span></a> an algorithm for each operation: find max, remove max, add.</p>
<p><a class="reference internal" href="../31_Hints/Hints_08_1_02.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_1_02.html"><span class="doc">Answer</span></a></p>
<p>Almost anything can be seen as a map. The next exercise is a reminder that just because we have a hammer, it doesn’t mean that every problem is a nail.</p>
</section>
<section id="Exercise-8.1.3">
<h3>Exercise 8.1.3<a class="headerlink" href="#Exercise-8.1.3" title="Link to this heading"></a></h3>
<p>Booleans are hardly ever used as map keys. Why?</p>
<p><a class="reference internal" href="../32_Answers/Answers_08_1_03.html"><span class="doc">Answer</span></a></p>
</section>
</section>
<section id="Lookup-tables">
<h2><span class="section-number">8.1.3. </span>Lookup tables<a class="headerlink" href="#Lookup-tables" title="Link to this heading"></a></h2>
<p>The simplest way to implement a map is with a dynamic array of key–value pairs. With this approach, the new and size operations take constant time, but the membership, lookup, associate and delete operations are linear in the size of the map, as they have to do a linear search for the given key.</p>
<p>If a map’s keys are natural numbers, we can use them to directly index the dynamic array. All map operations thereby take constant time. For example, a map from house numbers to sequences of strings, representing the residents of each house, can use this scheme. We initialise the dynamic array with, say, 10 empty sequences. When adding a new key–value pair, say Alice and Bob at house 50, we grow the dynamic array so that the largest index is 50, and then put string sequence (‘Alice’, ‘Bob’) at
index 50.</p>
<p>If an array represents a map rather than a sequence, it’s called a <strong>lookup table</strong>. Lookup tables are widely used to store pre-computed results. They’re another example of a space–time tradeoff.</p>
<p>Although lookup tables can be dynamic arrays, they’re usually static arrays, i.e. they’re used when the map’s keys form a fixed and relatively small collection, known in advance.</p>
<p>For example, consider a travel website that displays ever-changing forecast temperatures in degrees Celsius and Fahrenheit. They will all be within a certain range, e.g. −50 to 50 degrees Celsius. Using two lookup tables (mapping Celsius to Fahrenheit and vice versa) is more efficient than constantly re-applying the conversion formulas to the same temperature values.</p>
<p>In Python, one of the tables could be created like this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FAHRENHEIT</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">101</span>
<span class="k">for</span> <span class="n">celsius</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">51</span><span class="p">):</span>
    <span class="n">FAHRENHEIT</span><span class="p">[</span><span class="n">celsius</span><span class="p">]</span> <span class="o">=</span> <span class="n">celsius</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">//</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">32</span>
<span class="n">FAHRENHEIT</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">FAHRENHEIT</span><span class="p">)</span>  <span class="c1"># don&#39;t change table anymore</span>
</pre></div>
</div>
</div>
<p>The first 51 positions have the Fahrenheit values for 0 to 50 degrees Celsius, and the last 50 positions have the values for −50 to −1 degrees Celsius. In programming languages that don’t support negative indices, we would write <code class="docutils literal notranslate"><span class="pre">FAHRENHEIT[celsius</span> <span class="pre">+</span> <span class="pre">50]</span> <span class="pre">=</span> <span class="pre">...</span></code>.</p>
<p>What if the map’s keys aren’t integers? If we implement a <strong>hash function</strong> that converts each key to an index (this is called hashing the key), then we can still implement maps with lookup tables. Consider the following lookup table (in the form of a string) with a substitution cipher to encrypt text.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cipher</span> <span class="o">=</span> <span class="s2">&quot;lejqawntgckmfyrboxvhzsdipu&quot;</span>
</pre></div>
</div>
</div>
<p>We must convert each lowercase English letter to an index from 0 to 25 to then look up the corresponding encrypted letter. Fortunately, this is easy with Python’s <code class="docutils literal notranslate"><span class="pre">ord</span></code> function, which returns the Unicode code of a character.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">index_of</span><span class="p">(</span><span class="n">character</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a valid index for the character.</span>

<span class="sd">    Preconditions: character is a lowercase English letter</span>
<span class="sd">    Postconditions: the output is 0 for a, 1 for b, ..., 25 for z</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">ord</span><span class="p">(</span><span class="n">character</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The hash function takes advantage of the lowercase letters being consecutive in the Unicode standard.</p>
<p>Any text can now be encrypted.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">encrypt</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">cipher</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the encrypted version of text, using cipher.</span>

<span class="sd">    Preconditions: len(cipher) = 26</span>
<span class="sd">    Postconditions: the output is text, with every lowercase letter</span>
<span class="sd">    replaced by the corresponding character in cipher</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encrypted</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;a&quot;</span> <span class="o">&lt;=</span> <span class="n">character</span> <span class="o">&lt;=</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span>
            <span class="c1"># apply hash function and lookup table</span>
            <span class="n">encrypted</span> <span class="o">=</span> <span class="n">encrypted</span> <span class="o">+</span> <span class="n">cipher</span><span class="p">[</span><span class="n">index_of</span><span class="p">(</span><span class="n">character</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">encrypted</span> <span class="o">=</span> <span class="n">encrypted</span> <span class="o">+</span> <span class="n">character</span>
    <span class="k">return</span> <span class="n">encrypted</span>


<span class="n">encrypt</span><span class="p">(</span><span class="s2">&quot;This is top secret!&quot;</span><span class="p">,</span> <span class="n">cipher</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Ttgv gv hrb vajxah!&#39;
</pre></div></div>
</div>
<p>To sum up, if the keys aren’t integers, then a map can be implemented with a lookup table together with a hash function that converts the keys to indices. The map operations will have the same complexity as the hash function, because once an index is obtained, accessing, replacing or deleting a value in the array takes constant time. (In a lookup table, deleting a value doesn’t shift the others: the array represents a map, not a sequence.) Often, the hash function takes constant time, like
<code class="docutils literal notranslate"><span class="pre">index_of</span></code>.</p>
<div class="admonition note">
<p><strong>Info:</strong> Lookup tables are also called direct address (or addressing) tables.</p>
</div>
<section id="Exercise-8.1.4">
<h3>Exercise 8.1.4<a class="headerlink" href="#Exercise-8.1.4" title="Link to this heading"></a></h3>
<p>You’ve now seen two implementations of a priority queue: with a dynamic array of priority–item pairs sorted by priority (<a class="reference internal" href="../07_Ordered/07_4_priority_queue.html#Priority-queues"><span class="std std-ref">Section 7.6</span></a>) and with a map of priorities to queues (exercises above).</p>
<p>Implementing an ordered collection (priority queue) with an unordered one (map) led to each operation searching for the highest key (priority) and thus taking time linear in the size of the map (number of priorities).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Sorted dynamic array</p></th>
<th class="head"><p>Map</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>find max</p></td>
<td><p>Θ(1)</p></td>
<td><p>Θ(<em>priorities</em>)</p></td>
</tr>
<tr class="row-odd"><td><p>remove max</p></td>
<td><p>Θ(1)</p></td>
<td><p>Θ(<em>priorities</em>)</p></td>
</tr>
<tr class="row-even"><td><p>add</p></td>
<td><p>Θ(│<em>priority queue</em>│)</p></td>
<td><p>Θ(<em>priorities</em>)</p></td>
</tr>
</tbody>
</table>
<p>These complexities assume that priorities aren’t known in advance: they can be any comparable objects.</p>
<ol class="arabic simple">
<li><p>In which way may the complexities be different if we know the priorities in advance?</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>If we don’t know the priorities in advance, is it always better to use sorted dynamic arrays?</p></li>
</ol>
<p><a class="reference internal" href="../31_Hints/Hints_08_1_04.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_1_04.html"><span class="doc">Answer</span></a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="08-introduction.html" class="btn btn-neutral float-left" title="8. Unordered collections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="08_2_dictionary.html" class="btn btn-neutral float-right" title="8.2. Dictionaries" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020–2025 The Open University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>