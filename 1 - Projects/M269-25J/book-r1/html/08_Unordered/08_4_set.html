

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8.4. Sets</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="../_static/m269.css?v=4f7d186f" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f41d439"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.5. Summary" href="08_5_summary.html" />
    <link rel="prev" title="8.3. Hash tables" href="08_3_hash_table.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            M269
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01_Introduction/01-introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_Sequence/02-introduction.html">2. Numbers and sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_Selection/03-introduction.html">3. Booleans and selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_Iteration/04-introduction.html">4. Sequences and iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_TMA01-1/05-introduction.html">5. TMA 01 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_Implementing/06-introduction.html">6. Implementing sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_Ordered/07-introduction.html">7. Stacks and queues</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="08-introduction.html">8. Unordered collections</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="08_1_map.html">8.1. Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_2_dictionary.html">8.2. Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_3_hash_table.html">8.3. Hash tables</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.4. Sets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#The-set-ADT">8.4.1. The set ADT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Sets-in-Python">8.4.2. Sets in Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.4.1">Exercise 8.4.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Implementing-sets">8.4.3. Implementing sets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.4.2">Exercise 8.4.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.4.3">Exercise 8.4.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Using-sets">8.4.4. Using sets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-8.4.4">Exercise 8.4.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="08_5_summary.html">8.5. Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../09_Practice-1/09-introduction.html">9. Practice 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_TMA01-2/10-introduction.html">10. TMA 01 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_Search/11-introduction.html">11. Exhaustive search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_Recursion/12-introduction.html">12. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_Divide/13-introduction.html">13. Divide and conquer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14_Sorting/14-introduction.html">14. Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_TMA02-1/15-introduction.html">15. TMA 02 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../16_Trees/16-introduction.html">16. Rooted trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../17_Graphs_1/17-introduction.html">17. Graphs 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18_Greed/18-introduction.html">18. Greed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../19_Practice-2/19-introduction.html">19. Practice 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../20_TMA02-2/20-introduction.html">20. TMA 02 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../21_Graphs_2/21-introduction.html">21. Graphs 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../22_Backtracking/22-introduction.html">22. Backtracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../23_Dynamic_Programming/23-introduction.html">23. Dynamic Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../24_Practice-3/24-introduction.html">24. Practice 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../25_TMA03-1/25-introduction.html">25. TMA 03 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../26_Complexity_classes/26-introduction.html">26. Complexity classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../27_Computability/27-introduction.html">27. Computability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../28_TMA03-2/28-introduction.html">28. TMA 03 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../31_Hints/31-introduction.html">29. Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../32_Answers/32-introduction.html">30. Answers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../33_Figures/33-introduction.html">31. Figures</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">M269</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="08-introduction.html"><span class="section-number">8. </span>Unordered collections</a></li>
      <li class="breadcrumb-item active"><span class="section-number">8.4. </span>Sets</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Sets">
<h1><span class="section-number">8.4. </span>Sets<a class="headerlink" href="#Sets" title="Link to this heading"></a></h1>
<p>A <strong>set</strong> is an unordered collection of unique items, i.e. without duplicates. The items in a set are traditionally called its elements or members. In mathematics a set is written with curly braces. For example, {1, 2, ‘hi’} and {‘hi’, 2, 1} are the same set, as the order in which we list set members doesn’t matter.</p>
<section id="The-set-ADT">
<h2><span class="section-number">8.4.1. </span>The set ADT<a class="headerlink" href="#The-set-ADT" title="Link to this heading"></a></h2>
<p>The set ADT supports the following operations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Effect</p></th>
<th class="head"><p>Maths</p></th>
<th class="head"><p>English</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>new</p></td>
<td><p>create new set</p></td>
<td><p>let <em>s</em> be {}</p></td>
<td><p>let <em>s</em> be the empty set</p></td>
</tr>
<tr class="row-odd"><td><p>size</p></td>
<td><p>the number of elements</p></td>
<td><p>│<em>s</em>│</p></td>
<td><p>│<em>s</em>│</p></td>
</tr>
<tr class="row-even"><td><p>membership</p></td>
<td><p>check if item <em>i</em> is in <em>s</em></p></td>
<td><p><span class="math notranslate nohighlight">\(i \in s\)</span></p></td>
<td><p><em>i</em> in <em>s</em></p></td>
</tr>
<tr class="row-odd"><td><p>add</p></td>
<td><p>add an item <em>i</em> to <em>s</em></p></td>
<td></td>
<td><p>add <em>i</em> to <em>s</em></p></td>
</tr>
<tr class="row-even"><td><p>remove</p></td>
<td><p>take an item <em>i</em> from <em>s</em></p></td>
<td></td>
<td><p>remove <em>i</em> from <em>s</em></p></td>
</tr>
<tr class="row-odd"><td><p>intersection</p></td>
<td><p>the items in <em>s1</em> and in <em>s2</em></p></td>
<td><p><span class="math notranslate nohighlight">\(s1 \cap s2\)</span></p></td>
<td><p>intersection of <em>s1</em> and <em>s2</em></p></td>
</tr>
<tr class="row-even"><td><p>union</p></td>
<td><p>the items in <em>s1</em> or in <em>s2</em></p></td>
<td><p><span class="math notranslate nohighlight">\(s1 \cup s2\)</span></p></td>
<td><p>union of <em>s1</em> and <em>s2</em></p></td>
</tr>
<tr class="row-odd"><td><p>difference</p></td>
<td><p>the items in <em>s1</em> but not in <em>s2</em></p></td>
<td><p><em>s1</em> − <em>s2</em></p></td>
<td><p><em>s1</em> − <em>s2</em></p></td>
</tr>
</tbody>
</table>
<p>Some examples of the above operations:</p>
<ul class="simple">
<li><p>{1, 2, 3} <span class="math notranslate nohighlight">\(\cup\)</span> {4, 5, 2} = {1, 2, 3, 4, 5}</p></li>
<li><p>{1, 2, 3} − {4, 5, 2} = {1, 3}</p></li>
<li><p>{1, 2, 3} <span class="math notranslate nohighlight">\(\cap\)</span> {4, 5, 2} = {2}</p></li>
<li><p>{1, 2, 3} <span class="math notranslate nohighlight">\(\cap\)</span> {4, 5, 6} = {}</p></li>
</ul>
<p>Two sets are said to be <strong>disjoint</strong> if they have no common elements: their intersection is the empty set.</p>
<p>Adding an item corresponds to doing ‘let <em>s</em> be <em>s</em> <span class="math notranslate nohighlight">\(\cup\)</span> {<em>i</em>}’. Removing an item corresponds to doing ‘let <em>s</em> be <em>s</em> − {<em>i</em>}’. Adding an already existing item or removing an inexistent item has therefore no effect on the set.</p>
<p>The set ADT also includes comparison operations. Two sets can be compared for (in)equality, e.g. {1, 2, 3} = {3, 1, 2} but {1, 2, 3} ≠ {3, 1, 4}.</p>
<p>A set <em>A</em> is a <strong>subset</strong> of <em>B</em>, and <em>B</em> a <strong>superset</strong> of <em>A</em>, written <em>A</em> <span class="math notranslate nohighlight">\(\subseteq\)</span> <em>B</em> or <em>B</em> <span class="math notranslate nohighlight">\(\supseteq\)</span> <em>A</em>, if every item of <em>A</em> is also in <em>B</em>. Set <em>A</em> is a <strong>proper</strong> subset of <em>B</em>, written <em>A</em> <span class="math notranslate nohighlight">\(\subset\)</span> <em>B</em> (or <em>B</em> is a proper superset of <em>A</em>, written <em>B</em> <span class="math notranslate nohighlight">\(\supset\)</span> <em>A</em>), if <em>A</em> <span class="math notranslate nohighlight">\(\subseteq\)</span> <em>B</em> and <em>A</em> ≠ <em>B</em>. For example, {1, 2} <span class="math notranslate nohighlight">\(\subset\)</span> {1, 2, 3}.</p>
<div class="admonition note">
<p><strong>Info:</strong> The size of a set is also known as its cardinality. The difference operation is also written <span class="math notranslate nohighlight">\(s1 \setminus s2\)</span>. The empty set is also written as <span class="math notranslate nohighlight">\(\emptyset\)</span>. MST124 Unit 3 Section 1.1 introduces sets of real numbers and set notation.</p>
</div>
</section>
<section id="Sets-in-Python">
<h2><span class="section-number">8.4.2. </span>Sets in Python<a class="headerlink" href="#Sets-in-Python" title="Link to this heading"></a></h2>
<p>Python has a built-in class <code class="docutils literal notranslate"><span class="pre">set</span></code> to represent sets. Set literals are written as comma-separated items within curly braces, e.g. <code class="docutils literal notranslate"><span class="pre">{1,</span> <span class="pre">2,</span> <span class="pre">3}</span></code>. Python sets are iterable. The operations are written as follows.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Python</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>new</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">set()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>size</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">len(s)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>membership</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">in</span> <span class="pre">s</span></code> or <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>add</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s.add(item)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>remove</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s.discard(item)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>union</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s1.union(s2)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>intersection</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">&amp;</span> <span class="pre">s2</span></code> or <code class="docutils literal notranslate"><span class="pre">s1.intersection(s2)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>difference</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">-</span> <span class="pre">s2</span></code> or <code class="docutils literal notranslate"><span class="pre">s1.difference(s2)</span></code></p></td>
</tr>
</tbody>
</table>
<p>The union operation can also be written as <code class="docutils literal notranslate"><span class="pre">s1</span> <span class="pre">|</span> <span class="pre">s2</span></code>.</p>
<div class="admonition warning">
<p><strong>Note:</strong> In Python, <code class="docutils literal notranslate"><span class="pre">{}</span></code> represents the empty dictionary, not the empty set, so always use <code class="docutils literal notranslate"><span class="pre">set()</span></code> instead.</p>
</div>
<p>The last three operations create a new set: they don’t modify either input set. Here’s a simple example with positive integers.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">odd</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">even</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">prime</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;all:&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">|</span> <span class="n">even</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;even primes:&quot;</span><span class="p">,</span> <span class="n">even</span> <span class="o">&amp;</span> <span class="n">prime</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;odd primes (primes that aren&#39;t even):&quot;</span><span class="p">,</span> <span class="n">prime</span> <span class="o">-</span> <span class="n">even</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;even numbers that aren&#39;t prime:&quot;</span><span class="p">,</span> <span class="n">even</span> <span class="o">-</span> <span class="n">prime</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
all: {1, 2, 3, 4, 5, 6}
even primes: {2}
odd primes (primes that aren&#39;t even): {3, 5}
even numbers that aren&#39;t prime: {4, 6}
</pre></div></div>
</div>
<p>Note that the IPython interpreter displays set members in sorted order. Internally, the items may be stored in any order, e.g. <code class="docutils literal notranslate"><span class="pre">odd</span> <span class="pre">|</span> <span class="pre">even</span></code> may be stored as {1, 3, 5, 2, 4, 6}.</p>
<div class="admonition warning">
<p><strong>Note:</strong> Your algorithms on sets must not rely on any particular order of the items.</p>
</div>
<section id="Exercise-8.4.1">
<h3>Exercise 8.4.1<a class="headerlink" href="#Exercise-8.4.1" title="Link to this heading"></a></h3>
<p>Write alternative expressions for the even primes and the odd primes, without using the set <code class="docutils literal notranslate"><span class="pre">even</span></code>.</p>
<p><a class="reference internal" href="../31_Hints/Hints_08_4_01.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_4_01.html"><span class="doc">Answer</span></a></p>
<p>It’s possible to build expressions from these operations. Their associativity and precedence in relation to other operations is as follows, with highest precedence at the top of the table.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operators</p></th>
<th class="head"><p>Associativity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>arithmetic</p></td>
<td><p>left (except for exponentiation and negation)</p></td>
</tr>
<tr class="row-odd"><td><p>intersection</p></td>
<td><p>left</p></td>
</tr>
<tr class="row-even"><td><p>union</p></td>
<td><p>left</p></td>
</tr>
<tr class="row-odd"><td><p>comparison and membership</p></td>
<td><p>left</p></td>
</tr>
<tr class="row-even"><td><p>logical</p></td>
<td><p>left (except negation)</p></td>
</tr>
</tbody>
</table>
<p>The set difference operator has the same precedence and associativity as arithmetic difference (subtraction). The set membership operator has the same precedence and associativity as membership for other collections. In the next example, ‘number’ refers to a positive integer.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;all:&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">|</span> <span class="n">even</span> <span class="o">|</span> <span class="n">prime</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;odd numbers that aren&#39;t even primes&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">-</span> <span class="p">(</span><span class="n">prime</span> <span class="o">&amp;</span> <span class="n">even</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;non-prime odd numbers that are even:&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">-</span> <span class="n">prime</span> <span class="o">&amp;</span> <span class="n">even</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prime numbers that are odd or even&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">odd</span> <span class="o">|</span> <span class="n">even</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">prime</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;numbers that are even primes or odd&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">|</span> <span class="n">even</span> <span class="o">&amp;</span> <span class="n">prime</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
all: {1, 2, 3, 4, 5, 6}
odd numbers that aren&#39;t even primes {1, 3, 5}
non-prime odd numbers that are even: set()
prime numbers that are odd or even {2, 3, 5}
numbers that are even primes or odd {1, 2, 3, 5}
</pre></div></div>
</div>
<p>Like for Boolean expressions, it’s best to always put parentheses to show our intentions, e.g. <code class="docutils literal notranslate"><span class="pre">(odd</span> <span class="pre">-</span> <span class="pre">prime)</span> <span class="pre">&amp;</span> <span class="pre">even</span></code> for the second expression.</p>
<div class="admonition warning">
<p><strong>Note:</strong> Write all parentheses in set expressions, even if they’re redundant.</p>
</div>
<p>The set comparison operators are written like the arithmetic comparisons.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;are all primes odd?&quot;</span><span class="p">,</span> <span class="n">prime</span> <span class="o">&lt;=</span> <span class="n">odd</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;are all odd numbers prime?&quot;</span><span class="p">,</span> <span class="n">odd</span> <span class="o">&lt;=</span> <span class="n">prime</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;are some numbers not prime?&quot;</span><span class="p">,</span> <span class="n">prime</span> <span class="o">&lt;</span> <span class="n">odd</span> <span class="o">|</span> <span class="n">even</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
are all primes odd? False
are all odd numbers prime? False
are some numbers not prime? True
</pre></div></div>
</div>
<p>The last expression asks the equivalent question: are the prime numbers a proper subset of all numbers?</p>
<p>Any sequence can be converted to a set of its unique items, using the type constructor.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{1, 2, 3, 4, 6}
</pre></div></div>
</div>
<p>This is a shorter way of writing:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unique</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span>
    <span class="n">unique</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="n">unique</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{1, 2, 3, 4, 6}
</pre></div></div>
</div>
</section>
</section>
<section id="Implementing-sets">
<h2><span class="section-number">8.4.3. </span>Implementing sets<a class="headerlink" href="#Implementing-sets" title="Link to this heading"></a></h2>
<p>The set ADT can be implemented with a sequence data type, but that makes adding an item take linear time, to check if it’s already there.</p>
<p>A set can be seen as a map from items to Booleans, stating for each item if it’s a member of the set. Therefore, any map implementation can be used to implement sets. For example, if the potential set members are limited and known in advance, we can use a lookup table of Booleans. Set operations like intersection are easy to implement by going through two lookup tables and applying Boolean operations.</p>
<p>Python’s sets are implemented with hash tables and thus items must be hashable. Like dictionaries, sets aren’t hashable themselves and so can’t be used as keys.</p>
<div class="admonition note">
<p><strong>Info:</strong> In Java, the interface <code class="docutils literal notranslate"><span class="pre">Set</span></code> defines the set data type. Class <code class="docutils literal notranslate"><span class="pre">HashSet</span></code> implements the interface with a hash table. Both the interface and class are in package <code class="docutils literal notranslate"><span class="pre">java.util</span></code>.</p>
</div>
<p>The add, remove and membership operations take constant time for Python sets. As for the operations on two sets <em>a</em> and <em>b</em>, union has complexity Θ(│<em>a</em>│ + │<em>b</em>│), intersection has complexity Θ(min(│<em>a</em>│, │<em>b</em>│)), i.e. is linear in the smallest of both sets, and the difference <em>a</em> − <em>b</em> is linear in the size of the first set: Θ(│<em>a</em>│).</p>
<section id="Exercise-8.4.2">
<h3>Exercise 8.4.2<a class="headerlink" href="#Exercise-8.4.2" title="Link to this heading"></a></h3>
<p>Explain the complexities of the union, intersection and difference operations.</p>
<p><a class="reference internal" href="../31_Hints/Hints_08_4_02.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_4_02.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-8.4.3">
<h3>Exercise 8.4.3<a class="headerlink" href="#Exercise-8.4.3" title="Link to this heading"></a></h3>
<p>Checking if two sets are disjoint can be done with the Boolean expression <code class="docutils literal notranslate"><span class="pre">len(s1</span> <span class="pre">&amp;</span> <span class="pre">s2)</span> <span class="pre">==</span> <span class="pre">0</span></code>.</p>
<ol class="arabic simple">
<li><p>Why isn’t this an efficient way of checking disjointness?</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Outline a better algorithm.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Explain why it’s better, by comparing the memory use and the best- and worst-case complexities against those of the expression.</p></li>
</ol>
<div class="admonition warning">
<p><strong>Note:</strong> The shortest algorithm is not necessarily the most efficient.</p>
</div>
<p><a class="reference internal" href="../31_Hints/Hints_08_4_03.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_4_03.html"><span class="doc">Answer</span></a></p>
</section>
</section>
<section id="Using-sets">
<h2><span class="section-number">8.4.4. </span>Using sets<a class="headerlink" href="#Using-sets" title="Link to this heading"></a></h2>
<p>An efficient implementation of a set is very useful: contrary to lists, stacks and queues, it supports the add, remove and membership operations in constant time, for <em>every</em> item. Here’s a problem that uses a set just as a basic collection of items.</p>
<section id="Exercise-8.4.4">
<h3>Exercise 8.4.4<a class="headerlink" href="#Exercise-8.4.4" title="Link to this heading"></a></h3>
<p>A computing society is organising a programming contest for schools. Each school can send up to 4 teams of students. Each team is identified by a string like ‘DS2’, with the team’s number after the school’s initials. The best team of each school gets a certificate. Given the final team ranking, compute the teams that get a certificate. Add tests.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">algoesup</span><span class="w"> </span><span class="kn">import</span> <span class="n">test</span>


<span class="k">def</span><span class="w"> </span><span class="nf">certificates</span><span class="p">(</span><span class="n">ranking</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the best team of each school.</span>

<span class="sd">    The input and output are lists of strings (team names).</span>
<span class="sd">    Each string is the name of a school and a digit from 1 to 4.</span>

<span class="sd">    Preconditions:</span>
<span class="sd">    - ranking is a non-empty list ordered from first to last team</span>
<span class="sd">    - there are no duplicate teams</span>
<span class="sd">    Postconditions:</span>
<span class="sd">    - the output has the first team in &#39;ranking&#39; of each school</span>
<span class="sd">    - the output strings are in the same order as in &#39;ranking&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">best_teams</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">pass</span>
    <span class="k">return</span> <span class="n">best_teams</span>


<span class="n">certificates_tests</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># case,         ranking,                    certificates</span>
    <span class="p">(</span><span class="s1">&#39;3 schools&#39;</span><span class="p">,</span>   <span class="p">[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;A1&#39;</span><span class="p">]),</span>
    <span class="c1"># new tests:</span>
<span class="p">]</span>

<span class="n">test</span><span class="p">(</span><span class="n">certificates</span><span class="p">,</span> <span class="n">certificates_tests</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><a class="reference internal" href="../31_Hints/Hints_08_4_04.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_08_4_04.html"><span class="doc">Answer</span></a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="08_3_hash_table.html" class="btn btn-neutral float-left" title="8.3. Hash tables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="08_5_summary.html" class="btn btn-neutral float-right" title="8.5. Summary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020–2025 The Open University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>