

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>16.1. Binary tree</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="../_static/m269.css?v=4f7d186f" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f41d439"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="16.2. Algorithms on trees" href="16_2_algorithms.html" />
    <link rel="prev" title="16. Rooted trees" href="16-introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            M269
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01_Introduction/01-introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_Sequence/02-introduction.html">2. Numbers and sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_Selection/03-introduction.html">3. Booleans and selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_Iteration/04-introduction.html">4. Sequences and iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_TMA01-1/05-introduction.html">5. TMA 01 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_Implementing/06-introduction.html">6. Implementing sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_Ordered/07-introduction.html">7. Stacks and queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_Unordered/08-introduction.html">8. Unordered collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_Practice-1/09-introduction.html">9. Practice 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_TMA01-2/10-introduction.html">10. TMA 01 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_Search/11-introduction.html">11. Exhaustive search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_Recursion/12-introduction.html">12. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_Divide/13-introduction.html">13. Divide and conquer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14_Sorting/14-introduction.html">14. Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_TMA02-1/15-introduction.html">15. TMA 02 part 1</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="16-introduction.html">16. Rooted trees</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">16.1. Binary tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Terminology">16.1.1. Terminology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-16.1.1">Exercise 16.1.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ADT-and-data-structure">16.1.2. ADT and data structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-16.1.2">Exercise 16.1.2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="16_2_algorithms.html">16.2. Algorithms on trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_3_traversals.html">16.3. Traversals</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_4_bst.html">16.4. Binary search trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_5_balanced.html">16.5. Balanced trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_6_heapsort.html">16.6. Heapsort</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_7_summary.html">16.7. Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../17_Graphs_1/17-introduction.html">17. Graphs 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18_Greed/18-introduction.html">18. Greed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../19_Practice-2/19-introduction.html">19. Practice 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../20_TMA02-2/20-introduction.html">20. TMA 02 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../21_Graphs_2/21-introduction.html">21. Graphs 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../22_Backtracking/22-introduction.html">22. Backtracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../23_Dynamic_Programming/23-introduction.html">23. Dynamic Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../24_Practice-3/24-introduction.html">24. Practice 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../25_TMA03-1/25-introduction.html">25. TMA 03 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../26_Complexity_classes/26-introduction.html">26. Complexity classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../27_Computability/27-introduction.html">27. Computability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../28_TMA03-2/28-introduction.html">28. TMA 03 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../31_Hints/31-introduction.html">29. Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../32_Answers/32-introduction.html">30. Answers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../33_Figures/33-introduction.html">31. Figures</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">M269</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="16-introduction.html"><span class="section-number">16. </span>Rooted trees</a></li>
      <li class="breadcrumb-item active"><span class="section-number">16.1. </span>Binary tree</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Binary-tree">
<h1><span class="section-number">16.1. </span>Binary tree<a class="headerlink" href="#Binary-tree" title="Link to this heading"></a></h1>
<p>In M269 we focus on a restricted form of rooted trees: binary trees. They can be defined recursively:</p>
<blockquote>
<div><p>A <strong>binary tree</strong> is either empty or it consists of an item, called the <strong>root</strong>, and two binary trees, called the <strong>left subtree</strong> and the <strong>right subtree</strong>.</p>
</div></blockquote>
<p>The next figure shows a binary tree that represents the expression (3+4)×5 − 6. Rooted trees are usually depicted from the root downwards, unlike natural trees.</p>
<p id="fig-16.1.1"></p><p><a class="reference internal" href="../33_Figures/Figures_16_1.html#Figure-16.1.1"><span class="std std-ref">Figure 16.1.1</span></a></p>
<img alt="Image 16_1_example.png" src="../_images/16_1_example.png" />
<p>The root is the subtraction operator. The left subtree’s root is the multiplication operator. The right subtree consists of root 6 and two empty subtrees. Why the expression is represented in this particular way will become clear in the next section, when we evaluate such expression trees.</p>
<p>Many examples, like the folder hierarchy on a disk, can’t be modelled as binary trees, because a folder can have more than two subfolders. But the concepts and techniques for binary trees can be extended to rooted trees with any number of subtrees.</p>
<section id="Terminology">
<h2><span class="section-number">16.1.1. </span>Terminology<a class="headerlink" href="#Terminology" title="Link to this heading"></a></h2>
<p>A <strong>node</strong> consists of an item and the references to the left and right subtrees. The <strong>size</strong> of a tree is the number of its items (or nodes); the example tree has size 7.</p>
<p>A node A is the <strong>parent</strong> of node B, and B is the <strong>left or right child</strong> of A, if B is the root of the left or right subtree of A, respectively. For example, node 6 is the right child of the subtraction node, which is also the parent of the multiplication node.</p>
<p>Every node has exactly one parent, except the root, which has no parent. A <strong>leaf</strong> is a childless node, i.e. both its subtrees are empty. In the example, the leaves are the integer literals.</p>
<p>A node A is an <strong>ancestor</strong> of node B, and B is a <strong>descendant</strong> of A, if A is a parent of B or A is an ancestor of the parent of B. For example, the ancestors of node 3 are addition, multiplication and subtraction. A subtree rooted at a node A consists of A and all its descendants. For example, the subtree rooted at the addition node consists of it and the descendants 3 and 4.</p>
<p>The <strong>level</strong> or <strong>depth</strong> of a node is the number of its ancestors. The root has depth 0 because it has no ancestors. In the example tree, node 5 and the addition node have depth 2; nodes 3 and 4 are at level 3.</p>
<p>The <strong>height</strong> of a tree is the number of levels. The example tree has four levels, so its height is 4. An empty tree has no levels, so its height is 0.</p>
<p>The height of a non-empty tree is one more than the largest depth of all nodes. The largest depth in the example tree is 3 (for the left-most leaves), so the height is 4. A tree with only one node (the root, at depth 0) has height 1.</p>
<div class="admonition note">
<p><strong>Info:</strong> Many authors define the height of the empty tree as −1 and the height of a non-empty tree as the largest depth.</p>
</div>
<p>A binary tree is <strong>perfect</strong> if all its levels are full, i.e. all parents have two children and all leaves are at the same depth. An empty tree and a tree with just one node are perfect trees. The left-hand tree in the next figure is also perfect.</p>
<section id="Exercise-16.1.1">
<h3>Exercise 16.1.1<a class="headerlink" href="#Exercise-16.1.1" title="Link to this heading"></a></h3>
<p>Consider the following binary trees, which represent, from left to to right, expressions (3+4)×(5-6), 3+((4×5)−6) and (3+(4×5))−6.</p>
<p id="fig-16.1.2"></p><p><a class="reference internal" href="../33_Figures/Figures_16_1.html#Figure-16.1.2"><span class="std std-ref">Figure 16.1.2</span></a></p>
<img alt="Image 16_1_exercise.png" src="../_images/16_1_exercise.png" />
<p>For each tree:</p>
<ol class="arabic simple">
<li><p>State its size and height.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>List the nodes at level 2.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Explain if the multiplication node is a descendant of the subtraction node.</p></li>
</ol>
<p><a class="reference internal" href="../32_Answers/Answers_16_1_01.html"><span class="doc">Answer</span></a></p>
</section>
</section>
<section id="ADT-and-data-structure">
<h2><span class="section-number">16.1.2. </span>ADT and data structure<a class="headerlink" href="#ADT-and-data-structure" title="Link to this heading"></a></h2>
<p>The binary tree ADT has the following operations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Effect</p></th>
<th class="head"><p>Algorithm in English</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>new</p></td>
<td><p>create a new empty binary tree</p></td>
<td><p>let <em>t</em> be an empty binary tree</p></td>
</tr>
<tr class="row-odd"><td><p>join</p></td>
<td><p>create a tree from item <em>i</em> and trees <em>l</em> and <em>r</em></p></td>
<td><p>join(<em>i</em>, <em>l</em>, <em>r</em>)</p></td>
</tr>
<tr class="row-even"><td><p>root</p></td>
<td><p>obtain the root item of non-empty tree <em>t</em></p></td>
<td><p>root(<em>t</em>)</p></td>
</tr>
<tr class="row-odd"><td><p>left</p></td>
<td><p>obtain the left subtree of non-empty tree <em>t</em></p></td>
<td><p>left(<em>t</em>)</p></td>
</tr>
<tr class="row-even"><td><p>right</p></td>
<td><p>obtain the right subtree of non-empty tree <em>t</em></p></td>
<td><p>right(<em>t</em>)</p></td>
</tr>
<tr class="row-odd"><td><p>is empty</p></td>
<td><p>check if a given tree is empty</p></td>
<td><p><em>t</em> is empty</p></td>
</tr>
</tbody>
</table>
<p>The join operation puts together a tree while the root, left and right operations take it apart. We have root(join(<em>i</em>, <em>l</em>, <em>r</em>)) = <em>i</em>, left(join(<em>i</em>, <em>l</em>, <em>r</em>)) = <em>l</em> and right(join(<em>i</em>, <em>l</em>, <em>r</em>)) = <em>r</em>. This is the same approach as for composing sequences with the prepend operation and decomposing them with the head and tail operations.</p>
<div class="admonition warning">
<p><strong>Note:</strong> When designing a data type made of several parts, include operations to join and to separate the parts.</p>
</div>
<p>Instead of writing in one go a large class with many methods, I define a data structure and add operations one by one, as standalone functions. Introducing operations incrementally makes it easier for me to explain (and for you to learn) how binary trees work.</p>
<p>The binary tree data structure follows the recursive definition: a tree node has an item and points to two children nodes. A binary tree is like a bifurcating <a class="reference internal" href="../06_Implementing/06_7_linked_list.html#Linked-lists"><span class="std std-ref">linked list</span></a>. I represent an empty tree by a node without a root or subtrees.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code is also in m269_tree.py</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Tree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A rooted binary tree.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an empty tree.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<p>The class could be named <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> or <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code> but since we’re using only one kind of tree, I prefer a shorter name.</p>
<p>Let’s implement the ADT operations. The new operation is provided by the constructor. To obtain the root, left and right subtrees we can simply access the corresponding attribute because we’re using the class as the raw data structure. The remaining operations are:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code is also in m269_tree.py</span>


<span class="k">def</span><span class="w"> </span><span class="nf">is_empty</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Tree</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return True if and only if tree is empty.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tree</span><span class="o">.</span><span class="n">root</span> <span class="o">==</span> <span class="n">tree</span><span class="o">.</span><span class="n">left</span> <span class="o">==</span> <span class="n">tree</span><span class="o">.</span><span class="n">right</span> <span class="o">==</span> <span class="kc">None</span>


<span class="k">def</span><span class="w"> </span><span class="nf">join</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="n">Tree</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">Tree</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a tree with the given root and subtrees.&quot;&quot;&quot;</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">()</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">item</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
    <span class="k">return</span> <span class="n">tree</span>
</pre></div>
</div>
</div>
<p>We construct trees bottom-up, starting from the leaves and joining two subtrees. Here’s how to construct the 3+4 subtree of Figure 16.1.1.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">THREE</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Tree</span><span class="p">(),</span> <span class="n">Tree</span><span class="p">())</span>  <span class="c1"># a leaf has empty subtrees</span>
<span class="n">FOUR</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Tree</span><span class="p">(),</span> <span class="n">Tree</span><span class="p">())</span>
<span class="n">SUM</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">THREE</span><span class="p">,</span> <span class="n">FOUR</span><span class="p">)</span>  <span class="c1"># the subtree for 3 + 4</span>
</pre></div>
</div>
</div>
<p>To create trees more easily, let’s define a convenience operation.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code is also in m269_tree.py</span>


<span class="k">def</span><span class="w"> </span><span class="nf">leaf</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a node with the item and empty subtrees.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">join</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">Tree</span><span class="p">(),</span> <span class="n">Tree</span><span class="p">())</span>


<span class="c1"># The leaves for all the example trees.</span>
<span class="n">THREE</span> <span class="o">=</span> <span class="n">leaf</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">FOUR</span> <span class="o">=</span> <span class="n">leaf</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">FIVE</span> <span class="o">=</span> <span class="n">leaf</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">SIX</span> <span class="o">=</span> <span class="n">leaf</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now we can create the three trees in Figure 16.1.2, named after the order in which the plus, minus and times operators appear in the <code class="docutils literal notranslate"><span class="pre">join</span></code> arguments.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code is also in m269_tree.py</span>

<span class="n">TPM</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">THREE</span><span class="p">,</span> <span class="n">FOUR</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">,</span> <span class="n">SIX</span><span class="p">))</span>  <span class="c1"># (3+4)*(5-6)</span>
<span class="n">PMT</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">THREE</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">FOUR</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">),</span> <span class="n">SIX</span><span class="p">))</span>  <span class="c1"># 3+((4*5)-6)</span>
<span class="n">MPT</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">THREE</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">FOUR</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">)),</span> <span class="n">SIX</span><span class="p">)</span>  <span class="c1"># (3+(4*5))-6</span>
</pre></div>
</div>
</div>
<p>I can reuse the same leaf objects for different trees because they won’t be modified (hence the uppercase names).</p>
<section id="Exercise-16.1.2">
<h3>Exercise 16.1.2<a class="headerlink" href="#Exercise-16.1.2" title="Link to this heading"></a></h3>
<p>Write the Python expression for the tree in Figure 16.1.1, for expression ((3+4)×5) − 6.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> -i ../m269_tree

<span class="k">pass</span>
</pre></div>
</div>
</div>
<p><a class="reference internal" href="../32_Answers/Answers_16_1_02.html"><span class="doc">Answer</span></a></p>
<p>Before we move on, here’s one more operation to illustrate accessing the subtrees.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code is also in m269_tree.py</span>


<span class="k">def</span><span class="w"> </span><span class="nf">is_leaf</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Tree</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return True if and only if the tree is a single leaf.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="n">is_empty</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="ow">and</span> <span class="n">is_empty</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">and</span> <span class="n">is_empty</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_leaf</span><span class="p">(</span><span class="n">THREE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_leaf</span><span class="p">(</span><span class="n">Tree</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_leaf</span><span class="p">(</span><span class="n">TPM</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="16-introduction.html" class="btn btn-neutral float-left" title="16. Rooted trees" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="16_2_algorithms.html" class="btn btn-neutral float-right" title="16.2. Algorithms on trees" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020–2025 The Open University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>