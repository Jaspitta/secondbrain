

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>21.5. Practice</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="../_static/m269.css?v=4f7d186f" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f41d439"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="21.6. Summary" href="21_6_summary.html" />
    <link rel="prev" title="21.4. State graphs" href="21_4_states.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            M269
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01_Introduction/01-introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_Sequence/02-introduction.html">2. Numbers and sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_Selection/03-introduction.html">3. Booleans and selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_Iteration/04-introduction.html">4. Sequences and iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_TMA01-1/05-introduction.html">5. TMA 01 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_Implementing/06-introduction.html">6. Implementing sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_Ordered/07-introduction.html">7. Stacks and queues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_Unordered/08-introduction.html">8. Unordered collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_Practice-1/09-introduction.html">9. Practice 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_TMA01-2/10-introduction.html">10. TMA 01 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_Search/11-introduction.html">11. Exhaustive search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_Recursion/12-introduction.html">12. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_Divide/13-introduction.html">13. Divide and conquer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14_Sorting/14-introduction.html">14. Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_TMA02-1/15-introduction.html">15. TMA 02 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../16_Trees/16-introduction.html">16. Rooted trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../17_Graphs_1/17-introduction.html">17. Graphs 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18_Greed/18-introduction.html">18. Greed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../19_Practice-2/19-introduction.html">19. Practice 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../20_TMA02-2/20-introduction.html">20. TMA 02 part 2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="21-introduction.html">21. Graphs 2</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="21_1_un_components.html">21.1. Undirected graph components</a></li>
<li class="toctree-l2"><a class="reference internal" href="21_2_di_components.html">21.2. Directed graph components</a></li>
<li class="toctree-l2"><a class="reference internal" href="21_3_topological.html">21.3. Topological sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="21_4_states.html">21.4. State graphs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">21.5. Practice</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Rook's-moves">21.5.1. Rook’s moves</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Islands">21.5.2. Islands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-21.5.1">Exercise 21.5.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-21.5.2">Exercise 21.5.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-21.5.3">Exercise 21.5.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-21.5.4">Exercise 21.5.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise-21.5.5-(optional)">Exercise 21.5.5 (optional)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="21_6_summary.html">21.6. Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../22_Backtracking/22-introduction.html">22. Backtracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../23_Dynamic_Programming/23-introduction.html">23. Dynamic Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../24_Practice-3/24-introduction.html">24. Practice 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../25_TMA03-1/25-introduction.html">25. TMA 03 part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../26_Complexity_classes/26-introduction.html">26. Complexity classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../27_Computability/27-introduction.html">27. Computability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../28_TMA03-2/28-introduction.html">28. TMA 03 part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../31_Hints/31-introduction.html">29. Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../32_Answers/32-introduction.html">30. Answers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../33_Figures/33-introduction.html">31. Figures</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">M269</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="21-introduction.html"><span class="section-number">21. </span>Graphs 2</a></li>
      <li class="breadcrumb-item active"><span class="section-number">21.5. </span>Practice</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Practice">
<h1><span class="section-number">21.5. </span>Practice<a class="headerlink" href="#Practice" title="Link to this heading"></a></h1>
<p>This section is for you to practice solving problems by converting the input to a graph and then applying a graph algorithm. I present some guiding questions to help you figure out what kind of graph and what algorithm are needed to solve such problems.</p>
<p>I first recap the solution for the rook’s moves problem of the previous section, but now following the guiding questions. Then I present a new problem for you to solve, following the same questions.</p>
<section id="Rook's-moves">
<h2><span class="section-number">21.5.1. </span>Rook’s moves<a class="headerlink" href="#Rook's-moves" title="Link to this heading"></a></h2>
<p>The problem asked for the fewest vertical and horizontal rook moves from a start square to an end square, but the distance of each move varies. The output must be –1 if the end square can’t be reached.</p>
<p>To obtain a solution, I had to find answers to the following questions.</p>
<ul class="simple">
<li><p>What graph problem is this problem most similar to?</p></li>
</ul>
<p>The graph problems seen so far are: finding a shortest path, a shortest tour, a minimum spanning tree, all components, a topological sort and determining if a digraph is cyclic. Finding the least number of moves suggests a shortest path problem.</p>
<ul class="simple">
<li><p>What algorithm and graph are needed to solve that graph problem?</p></li>
</ul>
<p>The shortest path problem can be solved with a breadth-first search if the graph isn’t weighted and with Dijkstra’s algorithm if it is, provided no weight is negative. Both algorithms work on directed and undirected graphs, so for this problem thinking about what algorithm is needed has unfortunately not helped restricting the kind of graph.</p>
<ul class="simple">
<li><p>What graph can be constructed from the input? In particular:</p>
<ul>
<li><p>What do the nodes represent? Are they places, states, tasks, events, …?</p></li>
<li><p>What do the edges represent? When is there an edge between nodes A and B?</p></li>
<li><p>Are the edges directed? What do the directions represent?</p></li>
<li><p>Are the edges weighted? Do weights represent distance, time, cost, …?</p></li>
</ul>
</li>
</ul>
<p>The problem is about something (a rook) moving in a space (a board). This suggests nodes represent places (squares of the board) and edges connect nodes that can be reached from each other. However, each move depends on past moves, e.g. the rook can move to an adjacent square if it’s the first move or the previous move was three squares. To know which move the rook can make at any point, we must know its state: the square it’s on and how far it can move next. We therefore need a directed state
transition graph. The answers to the above questions are as follows.</p>
<p>The graph is directed but not weighted. The nodes represent the rook’s possible states and the edges the state transitions. The nodes are pairs (<em>s</em>, <span class="math notranslate nohighlight">\(d\)</span>) for each square <em>s</em> and distance <span class="math notranslate nohighlight">\(d\)</span> = 1, 2, 3. There’s an edge (A, <span class="math notranslate nohighlight">\(d_A\)</span>) ⟶ (B, <span class="math notranslate nohighlight">\(d_B\)</span>) for each pair of squares A and B that are <span class="math notranslate nohighlight">\(d_A\)</span> squares away from each other. If <span class="math notranslate nohighlight">\(d_A\)</span> = 3, then <span class="math notranslate nohighlight">\(d_B\)</span> = 1, otherwise <span class="math notranslate nohighlight">\(d_B\)</span> = <span class="math notranslate nohighlight">\(d_A\)</span> + 1.</p>
<ul class="simple">
<li><p>Which standard graph algorithm can be used to produce the output? Which modifications, if any, are needed?</p></li>
</ul>
<p>The graph algorithms seen so far are: BFS, DFS, Dijkstra’s, Prim’s and Kahn’s algorithms. The graph isn’t weighted, so we can use BFS to find the shortest path from the <em>start</em> square to the <em>end</em> square. The rook begins in state (<em>start</em>, 1) but it can finish in one of three states: (<em>end</em>, 1), (<em>end</em>, 2), (<em>end</em>, 3). We must modify the BFS algorithm to stop at any of those nodes. We must also modify it so that instead of returning the tree traversed from the start node it returns the length of
the path to the target node first reached (or –1 if there’s no path).</p>
<p>Now that you’ve seen how this set of questions led me to the solution of the rook’s moves problem, here’s a problem for you to solve, following the same questions.</p>
</section>
<section id="Islands">
<h2><span class="section-number">21.5.2. </span>Islands<a class="headerlink" href="#Islands" title="Link to this heading"></a></h2>
<p>This problem is about counting islands on a satellite image. The image was divided into small squares with the same area, say 10×10 metres. Each square is classified as water if most of its pixels are blue, otherwise as land. The result can be stored as a grid of Booleans but we’ll use a more visual representation: letter L for land and space for water. The problem’s input is a list of strings of the same length, like this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;LLL L &#39;</span><span class="p">,</span>
    <span class="s1">&#39;L L  L&#39;</span><span class="p">,</span>
    <span class="s1">&#39;L LL L&#39;</span><span class="p">,</span>
    <span class="s1">&#39; LLL L&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<p>Two land squares belong to the same island if they’re vertically or horizontally adjacent.</p>
<p>The example has three islands:</p>
<ol class="arabic simple">
<li><p>a big island in the west, with 11 land squares surrounding a lake</p></li>
<li><p>a 3-square north–south island in the east</p></li>
<li><p>a single-square island in the north-east.</p></li>
</ol>
<p>Given such a list of strings, we want to know how many islands there are.</p>
<div class="admonition note">
<p><strong>Info:</strong> This is LeetCode problem <a class="reference external" href="https://leetcode.com/problems/number-of-islands/">200</a> with a different input format.</p>
</div>
<section id="Exercise-21.5.1">
<h3>Exercise 21.5.1<a class="headerlink" href="#Exercise-21.5.1" title="Link to this heading"></a></h3>
<p>What graph problem is this problem most similar to?</p>
<p><a class="reference internal" href="../31_Hints/Hints_21_5_01.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_21_5_01.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-21.5.2">
<h3>Exercise 21.5.2<a class="headerlink" href="#Exercise-21.5.2" title="Link to this heading"></a></h3>
<p>What algorithm and graph are needed to solve that graph problem?</p>
<p><a class="reference internal" href="../31_Hints/Hints_21_5_02.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_21_5_02.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-21.5.3">
<h3>Exercise 21.5.3<a class="headerlink" href="#Exercise-21.5.3" title="Link to this heading"></a></h3>
<p>What graph can be constructed from the input? In particular:</p>
<ul class="simple">
<li><p>What do the nodes represent? Are they places, states, tasks, events, …?</p></li>
<li><p>What do the edges represent? When is there an edge between nodes A and B?</p></li>
<li><p>Are the edges directed? What do the directions represent?</p></li>
<li><p>Are the edges weighted? Do weights represent distance, time, cost, …?</p></li>
</ul>
<p><a class="reference internal" href="../31_Hints/Hints_21_5_03.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_21_5_03.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-21.5.4">
<h3>Exercise 21.5.4<a class="headerlink" href="#Exercise-21.5.4" title="Link to this heading"></a></h3>
<p>Which standard graph algorithm can be used to produce the output? Which modifications, if any, are needed?</p>
<p><a class="reference internal" href="../31_Hints/Hints_21_5_04.html"><span class="doc">Hint</span></a> <a class="reference internal" href="../32_Answers/Answers_21_5_04.html"><span class="doc">Answer</span></a></p>
</section>
<section id="Exercise-21.5.5-(optional)">
<h3>Exercise 21.5.5 (optional)<a class="headerlink" href="#Exercise-21.5.5-(optional)" title="Link to this heading"></a></h3>
<p>Implement the outlined solution, i.e. write code that takes a list of equal-length strings of Ls and spaces, and returns the number of islands. The code first constructs the graph you defined in the third exercise and then applies the algorithm you defined in the previous exercise.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="21_4_states.html" class="btn btn-neutral float-left" title="21.4. State graphs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="21_6_summary.html" class="btn btn-neutral float-right" title="21.6. Summary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020–2025 The Open University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>